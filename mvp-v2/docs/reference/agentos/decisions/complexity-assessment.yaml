# Complexity Assessment Decision Graph

name: complexity_assessment
description: Determines task complexity level (1-4) using multi-dimensional analysis

# Complexity is the maximum across all dimensions
# Then apply escalation rules

dimensions:
  scope:
    level_1: "task.scope.domains.length == 1 and task.scope.files.length <= 3"
    level_2: "task.scope.domains.length <= 2 and task.scope.files.length <= 10"
    level_3: "task.scope.domains.length > 2 or task.scope.files.length > 10"
    level_4: "task.scope.domains.length > 3 and 'system' in task.objective.lower()"

  decisions:
    level_1: "task.constraints.dependencies.length == 0"
    level_2: "task.constraints.dependencies.length <= 2"
    level_3: "task.constraints.dependencies.length > 2 or 'design' in task.objective.lower()"
    level_4: "task.constraints.dependencies.length > 5 or 'architecture' in task.objective.lower()"

  risk:
    level_1: "task.constraints.risks.length == 0"
    level_2: "task.constraints.risks.length == 1"
    level_3: "task.constraints.risks.length > 1 or 'security' in task.scope.domains"
    level_4: "task.constraints.risks.length > 2 or 'critical' in task.constraints.risks"

  effort:
    level_1: "task.constraints.time == null or 'hour' in task.constraints.time.lower()"
    level_2: "task.constraints.time != null and 'day' in task.constraints.time.lower()"
    level_3: "task.constraints.time != null and 'week' in task.constraints.time.lower()"
    level_4: "task.constraints.time != null and 'month' in task.constraints.time.lower()"

  dependencies:
    level_1: "task.constraints.dependencies.length == 0"
    level_2: "task.constraints.dependencies.length <= 2"
    level_3: "task.constraints.dependencies.length > 2"
    level_4: "task.constraints.dependencies.length > 5"

escalation_rules:
  - condition: "max_level == 1 and risk_level >= 3"
    action: escalate_to_2
  - condition: "max_level == 4 and scope_level <= 2 and effort_level <= 2"
    action: reduce_to_3

workflow_variations:
  level_1:
    name: minimal
    rigor: minimal
    documentation: brief
    validation: basic

  level_2:
    name: standard
    rigor: standard
    documentation: standard
    validation: standard

  level_3:
    name: enhanced
    rigor: enhanced
    documentation: comprehensive
    validation: comprehensive

  level_4:
    name: maximum
    rigor: maximum
    documentation: enterprise
    validation: extensive
